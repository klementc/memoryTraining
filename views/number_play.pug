extends layout

block content
  h1= title
  hr
  p(class="text-center")
    em(id="time") #{timer} 
    | seconds left!
  strong Seed: #{seed}
  hr

  div(id="memZone" class="table-responsive")
    table(class="table table-striped table-hover")
      thead
        tr
          th(scope='col') # Row
          th(scope='col') Numbers
      tbody
        each n, index in number_list
          tr
            th(scope='row') #{index}
            td
              each number in n
                | #{number}    
  script.
    setTimeout(function () {
      clearInterval(i);
      document.getElementById("memZone").innerHTML="<strong>Finished</strong>";
      var form = $('<form action="/game/numbers/verify" method="post">' +
        '<input type="hidden" name="seed" value="#{seed}" /><input type="hidden" name="size" value="#{size}" /><input type="hidden" name="row" value="#{row}" /><input type="hidden" name="base" value="#{base}" />'+
        '</form>');
      $('body').append(form);
      form.submit();
    }, #{timer}*1000)

    var t = 0;
    var i = setInterval(function() {
      t+=1;
      document.getElementById('time').innerHTML = #{timer}-t+" ";
      if(#{timer}-t == 0){
        clearInterval(i)
      }
    }, 1000);